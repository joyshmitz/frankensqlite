{"decision_id":"dr-0001","question_id":"Q1","date":"2026-02-09","status":"proposed","context":"Define acceptable cross-process writer throughput and tail-latency envelope versus in-process baseline.","options_considered":["Keep mmap TxnSlot coordination as specified","Introduce coordinator process hop for writes","Constrain cross-process mode to single-writer fallback"],"decision":"Keep shared-memory coordination as the default path while collecting a benchmark envelope before any redesign.","rationale":"The specified protocol is already aligned with Phase 6 verification gates; redesign is premature without benchmark evidence.","owner_bead":"bd-3kp.1","blocks_implementation":true,"links":["bd-3kp.1","bd-22n","bd-2d3i","test_e2e_bd_3kp_1_compliance"]}
{"decision_id":"dr-0002","question_id":"Q2","date":"2026-02-09","status":"proposed","context":"Choose witness granularity strategy for SSI false-positive reduction without regressing correctness.","options_considered":["Stay page-only for all workloads","Adaptive escalation from page to range/cell","Always range/cell witness keys"],"decision":"Start page-only and escalate to refined witness keys only when measured abort rate exceeds policy thresholds.","rationale":"This keeps implementation risk low while preserving a data-driven path to reduce false aborts.","owner_bead":"bd-3kp.1","blocks_implementation":true,"links":["bd-3kp.1","bd-iwu.3","bd-2d3i","test_e2e_bd_3kp_1_compliance"]}
{"decision_id":"dr-0003","question_id":"Q3","date":"2026-02-09","status":"proposed","context":"Select per-object symbol size defaults for capsule/checkpoint/index encoding in the RaptorQ pipeline.","options_considered":["Single symbol size for all object classes","Per-object static defaults with PRAGMA overrides","Fully adaptive runtime symbol sizing"],"decision":"Use per-object defaults plus PRAGMA overrides, and defer adaptive policy until benchmark data stabilizes.","rationale":"Per-object defaults are implementable now, measurable, and compatible with later adaptive tuning.","owner_bead":"bd-26be","blocks_implementation":true,"links":["bd-3kp.1","bd-26be","bd-bca.1","test_e2e_bd_3kp_1_compliance"]}
{"decision_id":"dr-0004","question_id":"Q4","date":"2026-02-09","status":"proposed","context":"Place compatibility checkpoint work so export fidelity is preserved without stalling writer throughput.","options_considered":["Foreground blocking checkpoints","Background chunked checkpoint worker","Checkpoint only on explicit export command"],"decision":"Adopt background chunked checkpointing with measurable lag targets and explicit optional export mode.","rationale":"This aligns with compatibility goals while preserving write-path concurrency characteristics.","owner_bead":"bd-bca.1","blocks_implementation":true,"links":["bd-3kp.1","bd-bca.1","bd-294","test_e2e_bd_3kp_1_compliance"]}
{"decision_id":"dr-0005","question_id":"Q5","date":"2026-02-09","status":"proposed","context":"Scope deterministic rebase merge coverage to operations that can be proven safe first.","options_considered":["Enable broad merge coverage immediately","Leaf-page insert/update only initial scope","Disable rebase and use abort-only policy"],"decision":"Ship deterministic rebase for leaf-page insert/update first, then widen only with dedicated proof and test coverage.","rationale":"Conservative rollout minimizes correctness risk while still reducing conflict aborts on common workloads.","owner_bead":"bd-2d3i","blocks_implementation":true,"links":["bd-3kp.1","bd-2d3i","bd-25q8","test_e2e_bd_3kp_1_compliance"]}
{"decision_id":"dr-0006","question_id":"Q6","date":"2026-02-09","status":"proposed","context":"Determine when hot-page structural contention justifies B-link-inspired internal concurrency protocol work.","options_considered":["Never implement structure-modification protocol","Implement protocol immediately","Gate implementation on contention telemetry"],"decision":"Gate B-link-style protocol work on measured internal-page contention dominance in hotspot benchmarks.","rationale":"Avoids speculative complexity until bottleneck evidence justifies the additional protocol surface.","owner_bead":"bd-25q8","blocks_implementation":true,"links":["bd-3kp.1","bd-25q8","bd-2zoa","test_e2e_bd_3kp_1_compliance"]}
{"decision_id":"dr-0007","question_id":"Q7","date":"2026-02-13","status":"accepted","context":"Select workspace-safe code coverage toolchain for CI quality gates and coverage gap analysis.","options_considered":["cargo-llvm-cov (LLVM source-based)","cargo-tarpaulin (ptrace-based)","grcov (Mozilla gcov wrapper)"],"decision":"Use cargo-llvm-cov as the primary coverage tool.","rationale":"LLVM source-based coverage provides accurate line/branch/function metrics, works correctly with nightly 2024 edition, has clean per-crate isolation via -p flag, and supports all required output formats (text, lcov, HTML).","owner_bead":"bd-mblr.1.1.1","blocks_implementation":false,"links":["bd-mblr.1.1.1","bd-mblr.1.1","bd-mblr.1","docs/adr/0001-coverage-toolchain-selection.md"]}
